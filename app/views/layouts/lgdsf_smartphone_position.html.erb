<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
    <title></title>
    <%= csrf_meta_tag %>
    <link href="http://code.jquery.com/mobile/latest/jquery.mobile.min.css" rel="stylesheet" type="text/css" />
    <script src="http://code.jquery.com/jquery.min.js"></script>
    <script type="text/javascript">
    $(document).bind("mobileinit", function(){
      $.mobile.ajaxEnabled = false; // ajaxを無効
    });
    </script>
    <script src="http://code.jquery.com/mobile/latest/jquery.mobile.min.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&language=ja"></script>
    <%= javascript_include_tag 'staffs' %>
    <%= yield :header_tags -%>
  </head>
  <body>

    <%= yield %>

    <script type="text/javascript">
      $(window).load(function() {
        if( navigator.geolocation ){
          var getPosition = function(position){
            $("#latitude").attr("value", position.coords.latitude);
            $("#longitude").attr("value", position.coords.longitude);
          };
          var errorCallback = function(errors){
            alert(errors.code + ":" + errors.message);
          };
          navigator.geolocation.getCurrentPosition(getPosition, errorCallback, {enableHighAccuracy: true});
        } else {
          alert('このブラウザは位置情報に対応していません。');
          return false;
        }
      });
    </script>

  </body>
</html>
